# 计算逻辑
## 把手
- “把手”是用来控制图形的点位，在 svg 中，使用 `<circle/>` 代替。
- 拖动某个把手，可能会对其他把手位置产生影响，如矩形；也可能不会产生影响，如直线、多边形等。
- 把手的操作逻辑是：拖动把手，判断把手所处位置，以矩形为例，如果拖动的是2号把手（右上角的那个），则会导致矩形沿 `左下 <-> 右上` 方向形变。从而导致包括自己在内的7个把手移动（左下角把手不会移动）。移动把手的同时，维护其他把手位置会很困难，我这边是根据图形来维护所有把手位置的。（移动某个把手 -> 判断把手位置 -> 触发图形改变 -> 使用图形来刷新所有把手位置）


# 绘图
## 多边形
操作逻辑
- 将 `type` 设置为 polygon 后，多次点击添加多边形的点，双击为绘制最后一个点位。

实现逻辑
- 第一次点击后，创建 `<polygon/>` 对象，并创建第一个把手。
- 移动鼠标，判断多边形是否只有一个点：如果是，则新建第二个把手，设置把手位置；如果不是，则只更新当前把手位置。然后根据把手位置刷新多边形，依此类推。
- 双击退出多边形编辑：假设目前多边形有3个点（第三个点C还可以移动，未固定下来），第一次点击会创建C1，并固定原来的C（此时C1已在 handlers 中）。第二次点击时，先不创建把手，判断 handlers 中的最后两个把手是否位置一致，一致则退出多边形编辑，并把多余的把手弹出（并移除出画布）。
